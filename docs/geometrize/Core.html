<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../jquery-1.9.1.min.js"></script><script src="../bootstrap/js/bootstrap.min.js"></script><script src="../bootstrap/js/bootstrap-select.min.js"></script><link href="../styles.css" rel="stylesheet"/><link href="../samcodes-nav.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../",platforms: ["types"]};</script><script type="text/javascript" src="..//nav.js"></script><script type="text/javascript" src="..//index.js"></script><link rel="icon" href="..//favicon.png" type="image/x-icon"></link><title>geometrize.Core - Geometrize API</title><meta name="description" content="The core functions in Geometrize Haxe.
@author Sam Twidale (&lt;a href="http://samcodes.co.uk"&gt;http://samcodes.co.uk&lt;/a&gt;/)"/></head><body><div class="navbar navbar-fixed-top "><div class="navbar-inner"><a class="samcodes-logo" href="https://github.com/Tw1ddle/geometrize-haxe"><img alt="Geometrize Haxe" height="42" src="../logo.png" width="307"/></a><a class="api-link" href="/geometrize-haxe/geometrize/index.html">API</a></div></div><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><h1><small>class</small> Core</h1><h4><small>package <a href="../geometrize/index.html">geometrize</a></small></h4>    </div><div class="body"><div class="doc doc-main"><div class="indent"><p>The core functions in Geometrize Haxe.
@author Sam Twidale (<a href="http://samcodes.co.uk">http://samcodes.co.uk</a>/)</p></div></div><h3 class="section">Static methods</h3><div class="fields"><div class="field "><a name="bestHillClimbState"></a><h3><p><code><span class="label">static</span><a href="#bestHillClimbState"><span class="identifier">bestHillClimbState</span></a> (<span style="white-space:nowrap">shapes:<span class="type">Array</span>&lt;<a class="type" title="Enumeration specifying the types of shapes that can be used." href="../geometrize/shape/ShapeType.html">ShapeType</a>&gt;,</span> <span style="white-space:nowrap">alpha:<span class="type">Int</span>,</span> <span style="white-space:nowrap">n:<span class="type">Int</span>,</span> <span style="white-space:nowrap">age:<span class="type">Int</span>,</span> <span style="white-space:nowrap">target:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">current:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">buffer:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">lastScore:<span class="type">Float</span></span>):<a class="type" title="@author Sam Twidale (http://samcodes." href="../geometrize/State.html">State</a></code></p></h3><div class="doc"><p>Gets the best state using a hill climbing algorithm.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>shapes</code></th><td><p>The types of shape to use.</p></td></tr><tr><th width="25%"><code>alpha</code></th><td><p>The opacity of the shape.</p></td></tr><tr><th width="25%"><code>n</code></th><td><p>The number of random states to generate.</p></td></tr><tr><th width="25%"><code>age</code></th><td><p>The number of hillclimbing steps.</p></td></tr><tr><th width="25%"><code>target</code></th><td><p>The target bitmap.</p></td></tr><tr><th width="25%"><code>current</code></th><td><p>The current bitmap.</p></td></tr><tr><th width="25%"><code>buffer</code></th><td><p>The buffer bitmap.</p></td></tr><tr><th width="25%"><code>lastScore</code></th><td><p>The last score recorded by the model.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The best state acquired from hill climbing i.e. the one with the lowest energy.</p></div></div></div><div class="field "><a name="bestRandomState"></a><h3><p><code><span class="label">static</span><a href="#bestRandomState"><span class="identifier">bestRandomState</span></a> (<span style="white-space:nowrap">shapes:<span class="type">Array</span>&lt;<a class="type" title="Enumeration specifying the types of shapes that can be used." href="../geometrize/shape/ShapeType.html">ShapeType</a>&gt;,</span> <span style="white-space:nowrap">alpha:<span class="type">Int</span>,</span> <span style="white-space:nowrap">n:<span class="type">Int</span>,</span> <span style="white-space:nowrap">target:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">current:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">buffer:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">lastScore:<span class="type">Float</span></span>):<a class="type" title="@author Sam Twidale (http://samcodes." href="../geometrize/State.html">State</a></code></p></h3><div class="doc"><p>Gets the best state using a random algorithm.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>shapes</code></th><td><p>The types of shape to use.</p></td></tr><tr><th width="25%"><code>alpha</code></th><td><p>The opacity of the shape.</p></td></tr><tr><th width="25%"><code>n</code></th><td><p>The number of states to try.</p></td></tr><tr><th width="25%"><code>target</code></th><td><p>The target bitmap.</p></td></tr><tr><th width="25%"><code>current</code></th><td><p>The current bitmap.</p></td></tr><tr><th width="25%"><code>buffer</code></th><td><p>The buffer bitmap.</p></td></tr><tr><th width="25%"><code>lastScore</code></th><td><p>The last score recorded by the model.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The best random state i.e. the one with the lowest energy.</p></div></div></div><div class="field "><a name="computeColor"></a><h3><p><code><span class="label">static</span><a href="#computeColor"><span class="identifier">computeColor</span></a> (<span style="white-space:nowrap">target:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">current:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">lines:<span class="type">Array</span>&lt;<a class="type" title="Represents a scanline, a row of pixels running across a bitmap." href="../geometrize/rasterizer/Scanline.html">Scanline</a>&gt;,</span> <span style="white-space:nowrap">alpha:<span class="type">Int</span></span>):<a class="type" title="Represents a color in RGBA8888 format with underlying type Int." href="../geometrize/bitmap/Rgba.html">Rgba</a></code></p></h3><div class="doc"><p>Calculates the color of the scanlines.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>target</code></th><td><p>The target image.</p></td></tr><tr><th width="25%"><code>current</code></th><td><p>The current image.</p></td></tr><tr><th width="25%"><code>lines</code></th><td><p>The scanlines.</p></td></tr><tr><th width="25%"><code>alpha</code></th><td><p>The alpha of the scanline.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The color of the scanlines.</p></div></div></div><div class="field "><a name="differenceFull"></a><h3><p><code><span class="label">static</span><a href="#differenceFull"><span class="identifier">differenceFull</span></a> (<span style="white-space:nowrap">first:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">second:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a></span>):<span class="type">Float</span></code></p></h3><div class="doc"><p>Calculates the root-mean-square error between two bitmaps.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>first</code></th><td><p>The first bitmap.</p></td></tr><tr><th width="25%"><code>second</code></th><td><p>The second bitmap.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The difference/error measure between the two bitmaps.</p></div></div></div><div class="field "><a name="differencePartial"></a><h3><p><code><span class="label">static</span><a href="#differencePartial"><span class="identifier">differencePartial</span></a> (<span style="white-space:nowrap">target:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">before:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">after:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">score:<span class="type">Float</span>,</span> <span style="white-space:nowrap">lines:<span class="type">Array</span>&lt;<a class="type" title="Represents a scanline, a row of pixels running across a bitmap." href="../geometrize/rasterizer/Scanline.html">Scanline</a>&gt;</span>):<span class="type">Float</span></code></p></h3><div class="doc"><p>Calculates the root-mean-square error between the parts of the two bitmaps within the scanline mask.
This is for optimization purposes, it lets us calculate new error values only for parts of the image we know have changed.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>target</code></th><td><p>The target bitmap.</p></td></tr><tr><th width="25%"><code>before</code></th><td><p>The bitmap before the change.</p></td></tr><tr><th width="25%"><code>after</code></th><td><p>The bitmap after the change.</p></td></tr><tr><th width="25%"><code>score</code></th><td><p>The score.</p></td></tr><tr><th width="25%"><code>lines</code></th><td><p>The scanlines.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The difference/error between the two bitmaps, masked by the scanlines.</p></div></div></div><div class="field "><a name="energy"></a><h3><p><code><span class="label">static</span><a href="#energy"><span class="identifier">energy</span></a> (<span style="white-space:nowrap">shape:<a class="type" title="Interface for shape rasterization and manipulation." href="../geometrize/shape/Shape.html">Shape</a>,</span> <span style="white-space:nowrap">alpha:<span class="type">Int</span>,</span> <span style="white-space:nowrap">target:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">current:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">buffer:<a class="type" title="Helper class for working with bitmap data." href="../geometrize/bitmap/Bitmap.html">Bitmap</a>,</span> <span style="white-space:nowrap">score:<span class="type">Float</span></span>):<span class="type">Float</span></code></p></h3><div class="doc"><p>Calculates a measure of the improvement adding the shape provides - lower energy is better.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>shape</code></th><td><p>The shape to check.</p></td></tr><tr><th width="25%"><code>alpha</code></th><td><p>The alpha of the shape.</p></td></tr><tr><th width="25%"><code>target</code></th><td><p>The target bitmap.</p></td></tr><tr><th width="25%"><code>current</code></th><td><p>The current bitmap.</p></td></tr><tr><th width="25%"><code>buffer</code></th><td><p>The buffer bitmap.</p></td></tr><tr><th width="25%"><code>score</code></th><td><p>The score.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The energy measure.</p></div></div></div><div class="field "><a name="hillClimb"></a><h3><p><code><span class="label">static</span><a href="#hillClimb"><span class="identifier">hillClimb</span></a> (<span style="white-space:nowrap">state:<a class="type" title="@author Sam Twidale (http://samcodes." href="../geometrize/State.html">State</a>,</span> <span style="white-space:nowrap">maxAge:<span class="type">Int</span>,</span> <span style="white-space:nowrap">lastScore:<span class="type">Float</span></span>):<a class="type" title="@author Sam Twidale (http://samcodes." href="../geometrize/State.html">State</a></code></p></h3><div class="doc"><p>Hill climbing optimization algorithm, attempts to minimize energy (the error/difference).</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>state</code></th><td><p>The state to optimize.</p></td></tr><tr><th width="25%"><code>maxAge</code></th><td><p>The maximum age.</p></td></tr><tr><th width="25%"><code>lastScore</code></th><td><p>The last score recorded by the model.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The best state found from hillclimbing.</p></div></div></div></div></div></div></div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>This documentation is generated for version 1.0.0</p><p><a href="http://www.samcodes.co.uk/project/geometrize-haxe-web/" title="Geometrize Haxe Demo" class="hf-link">Geometrize Haxe Website</a> |&nbsp;<a href="https://github.com/Tw1ddle/geometrize-haxe" title="Geometrize Haxe on Github">Contribute to Geometrize Haxe</a> |&nbsp;<a href="https://twitter.com/Sam_Twidale" title="Contact Sam">Contact Sam</a></p></div></div></footer></body></html>